<Window x:Class="WpfApp1.MyNewWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MyNewWindow" Height="450" Width="450">
	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="33*"/>
			<RowDefinition Height="5*"/>
		</Grid.RowDefinitions>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="145.5"/>
			<ColumnDefinition Width="104.5"/>
			<ColumnDefinition Width="*"/>
		</Grid.ColumnDefinitions>

		<Border Grid.Column="0" Background="#3A4FC0" Grid.ColumnSpan="2" Grid.RowSpan="2" Margin="31,10,52,45">
			<StackPanel Margin="10,21,10,0">
				<Button Content="새 채팅"
                        FontSize="14"
                        FontWeight="Bold"
                        Height="40"
                        Margin="0,0,0,10"
                        Foreground="White"
                        Background="#0A0C19"
                        BorderBrush="#0A0C19"
                        Click="NewChatButton_Click"/>

				<Button Content="이전 채팅"
                        FontSize="14"
                        FontWeight="Bold"
                        Height="40"
                        Foreground="White"
                        Background="#0A0C19"
                        BorderBrush="#0A0C19"
                        Click="PreviousChatsButton_Click"/>
			</StackPanel>
		</Border>

		<Border Grid.Column="2" BorderBrush="#acacac" BorderThickness="0" Grid.RowSpan="2">
			<DockPanel>

				<!-- 타이틀 바 -->
				<StackPanel Height="30" DockPanel.Dock="Top" Orientation="Horizontal">
					<Label Content="Chat" Width="120" HorizontalContentAlignment="Center" VerticalContentAlignment="Center">
						<Label.Background>
							<SolidColorBrush Color="{DynamicResource {x:Static SystemColors.ControlLightLightColorKey}}" />
						</Label.Background>
					</Label>
				</StackPanel>

				<!-- 메신저형 본문: 위 로그, 아래 입력 -->
				<Grid Margin="6">
					<Grid.RowDefinitions>
						<!-- 로그(가변) -->
						<RowDefinition Height="*" />
						<!-- 입력 영역(고정 높이) -->
						<RowDefinition Height="Auto" />
					</Grid.RowDefinitions>

					<!-- 채팅 기록: 위쪽 전체 확장 -->
					<GroupBox Grid.Row="0" Header="채팅 기록" FontSize="20" Margin="10,0,0,6">

						<!-- 스크롤 가능 로그 영역 -->
						<ScrollViewer VerticalScrollBarVisibility="Auto">
							<ListBox x:Name="xChatLog" />
						</ScrollViewer>
					</GroupBox>

					<!-- 입력 영역: 아래 고정 -->
					<Grid Grid.Row="1">
						<Grid.ColumnDefinitions>
							<!-- 입력창이 넓게 -->
							<ColumnDefinition Width="*" />
							<!-- 실행 버튼 폭 고정 -->
							<ColumnDefinition Width="50" />
						</Grid.ColumnDefinitions>
						<Grid.RowDefinitions>
							<!-- 입력/버튼 라인 -->
							<RowDefinition Height="Auto" />
							<!-- 상태 라인 -->
							<RowDefinition Height="Auto" />
						</Grid.RowDefinitions>

						<!-- 입력 박스 -->
						<TextBox x:Name="xChatInput"
                                 Grid.Row="0" Grid.Column="0"
                                 Height="30"
                                 Margin="0,0,6,0"
                                 KeyDown="xChatInput_KeyDown"
                                 ToolTip="예) bga 티칭 / 시스템 모니터 / 히스토리 / 종료" />

						<!-- 실행 버튼 -->
						<Button x:Name="xChatExecBtn"
                                Grid.Row="0" Grid.Column="1"
                                Height="30"
                                Content="실행"
                                Click="xChatExecBtn_Click" />

						<!-- 상태 표시 -->
						<TextBlock x:Name="xChatStatus"
                                   Grid.Row="1" Grid.Column="0"
                                   Grid.ColumnSpan="2"
                                   Margin="0,6,0,0"
                                   VerticalAlignment="Center"
                                   Foreground="Gray" />
					</Grid>
				</Grid>
			</DockPanel>
		</Border>
	</Grid>
</Window>